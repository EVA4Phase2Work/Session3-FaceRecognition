<!DOCTYPE html>
<html lang="en" dir="ltr">
	<script src="jquery-3.3.1.min.js" type="text/javascript"></script>
	<script src="script.js" type="text/javascript"></script>

	<script>
	
	function CapacityChart(){
		var fileInput = document.getElementById('resnet34Fileupload').files;
		if(!fileInput.length){
			return alert('Please choose a file to upload first');
		}
		var file= fileInput[0];
		var filename=file.name
		alert("filename" + filename)
		var formData= new FormData();
		formData.append(filename,file);
		console.log(filename);
		$.ajax({
			async : true, 
			crossDomain : true,
			method: 'POST',
			contentType: false,
			mimeType: 'multipart/form-data',
			processData: false,
			url: 'https://a1mkrqg35l.execute-api.ap-south-1.amazonaws.com/dev/classify',
			data: formData,
		})
		.done(function (response){
			console.log(response);
			document.getElementById('result').textContent = response;
		})
		.fail(function(){alert('There was an error while sending request to resnet model');
		})

	};
	
		
	function resnetImageClassify(){
		var fileInput = document.getElementById('resnetImageFileupload').files;
		if(!fileInput.length){
			return alert('Please choose a file to upload first');
		}
		var file= fileInput[0];
		var filename=file.name
		alert("filename" + filename)
		var formData= new FormData();
		formData.append(filename,file);
		console.log(filename);
		$.ajax({
			async : true, 
			crossDomain : true,
			method: 'POST',
			contentType: false,
			mimeType: 'multipart/form-data',
			processData: false,
			url: 'https://r2ly2vocx1.execute-api.ap-south-1.amazonaws.com/dev/classify',
			data: formData,
		})
		.done(function (response){
			console.log(response);
			document.getElementById('resnetresult').textContent = response;
		})
		.fail(function(){alert('There was an error while sending request to resnet model');
		})

	};
	
	function faceallignmentClassify(){
		var fileInput = document.getElementById('faceallignmentImageFileupload').files;
		if(!fileInput.length){
			return alert('Please choose a file to upload first');
		}
		var file= fileInput[0];
		var filename=file.name
		alert("filename" + filename)
		var formData= new FormData();
		formData.append(filename,file);
		console.log(filename);
		$.ajax({
			async : true, 
			crossDomain : true,
			method: 'POST',
			contentType: false,
			mimeType: 'multipart/form-data',
			processData: false,
			url: 'https://515xqt9ise.execute-api.ap-south-1.amazonaws.com/dev/allignment',
			data: formData,
		})
		.done(function (response){
			console.log(response);
			document.getElementById('faceallignmentresult').textContent = response;
		})
		.fail(function(){alert('There was an error while sending request to resnet model');
		})

	};
	
	function loadDoc() {
	  var xhttp = new XMLHttpRequest();
	  xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
		 document.getElementById("demo").innerHTML = this.responseText;
		}
	  };
	  xhttp.open("GET", "ajax_info.txt", true);
	  xhttp.send();
	}

	function faceswapImageClassify(){
		var fileInput1 = document.getElementById('faceswapFileupload1').files;
		var fileInput2 = document.getElementById('faceswapFileupload2').files;
		if(!fileInput.length){
			return alert('Please choose a file to upload first');
		}
		var file= fileInput1[0];
		var file= fileInput2[0];
		var filename1=file1.name
		var filename=2file2.name
		alert("filename" + filename)
		var formData= new FormData();
		formData.append(filename1,file1);
		formData.append(filename2,file2);
		console.log(filename);
		$.ajax({
			async : true, 
			crossDomain : true,
			method: 'POST',
			contentType: false,
			mimeType: 'multipart/form-data',
			processData: false,
			url: 'https://2ls4aykzka.execute-api.ap-south-1.amazonaws.com/dev/allignment',
			data: formData,
		})
		.done(function (response){
			console.log(response);
			document.getElementById('faceswapresult').textContent = response;
		})
		.fail(function(){alert('There was an error while sending request to resnet model');
		})

	};

	</script>
	<head>
		<meta charset="utf-8">
		<title>Model Image Classification</title>
	</head>
	<body>
		<div class="grid-x grid-margin-x" style="margin-top:2%';">
			<div class="large-12 cell">
				<h4 id='imageClassifiers'>Image Classfiers</h4>
			</div>
			<div class="large-4 cell">
				<label > Please choose image file you want to classify.</label>
				<input type="file" id="resnet34Fileupload"></input>
			</div>
			<div class="large-8 cell">
				<input type="button" id="btnResNetUpload" class= "button" value="Classify Image" onclick="CapacityChart();">
				</input>
				
			</div>
			<P id="result"></p>		
		</div
		
		
		<div class="grid-x grid-margin-x" style="margin-top:2%';">
			<div class="large-12 cell">
				<h4 id='imageResnetClassifiers'>Resnet Image Classfiers</h4>
			</div>
			<div class="large-4 cell">
				<label > Please choose image file you want to classify.</label>
				<input type="file" id="resnetImageFileupload"></input>
			</div>
			<div class="large-8 cell">
				<input type="button" id="btnResNetFileUpload" class= "button" value="Classify Image" onclick="resnetImageClassify();">
				</input>
				
			</div>
			<P id="resnetresult"></p>		
		</div>

		<div class="grid-x grid-margin-x" style="margin-top:2%';">
			<div class="large-12 cell">
				<h4 id='faceallignmentClassifiers'>Face Allignment</h4>
			</div>
			<div class="large-4 cell">
				<label > Please choose image file you want to classify.</label>
				<input type="file" id="faceallignmentImageFileupload"></input>
			</div>
			<div class="large-8 cell">
				<input type="button" id="btnfaceallignmentFileUpload" class= "button" value="Allign Face" onclick="faceallignmentClassify();">
				</input>
				
			</div>
			<P id="faceallignmentresult"></p>		
		</div>


		<div class="grid-x grid-margin-x" style="margin-top:2%';">
			<div class="large-12 cell">
				<h4 id='faceswapClassifier'>Face Swap</h4>
			</div>
			<div class="large-4 cell">
				<label > Please choose image of First Person</label>
				<input type="file" id="faceswapFileupload1"></input>
			</div>
			<br/>
			<div class="large-4 cell">
				<label > Please choose image Of Second Person</label>
				<input type="file" id="faceswapFileupload2"></input>
			</div>
			<br/>
			
			<div class="large-8 cell">
				<input type="button" id="btnfaceswapFileUpload" class= "button" value="Face Swap" onclick="faceswapImageClassify();">
				</input>
				
			</div>
			
			<P id="faceswapresult"></p>		
		</div>


		</body>
</html>

